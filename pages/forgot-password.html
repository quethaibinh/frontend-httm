<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quên mật khẩu - Hệ thống đánh giá và review sách</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- <link rel="stylesheet" href="../assets/css/auth.css"> -->
    <link rel="stylesheet" href="../assets/css/style.css">
</head>

<body class="auth-page">
    <!-- Header -->
    <header>
        <div class="container">
            <nav class="navbar">
                <a href="../index.html" class="logo">
                    <i class="fas fa-book-open"></i> BookReview
                </a>

                <div class="search-bar">
                    <input type="text" placeholder="Tìm kiếm sách...">
                    <button type="submit">
                        <i class="fas fa-search"></i>
                    </button>
                </div>

                <ul class="nav-menu">
                    <li><a href="../index.html">Trang chủ</a></li>
                    <li><a href="./products.html">Sách</a></li>
                    <li><a href="./categories.html">Thể loại</a></li>
                    <li><a href="./authors.html">Tác giả</a></li>
                    <li><a href="./compare.html">So sánh</a></li>
                    <li><a href="./auth.html" class="btn btn-primary">Đăng nhập</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Forgot Password Section -->
    <section class="auth-container">
        <div class="card auth-card">
            <div class="auth-header">
                <div class="logo-wrapper">
                    <div class="logo">
                        <i class="fas fa-lock"></i>
                    </div>
                </div>
                <h2>Quên mật khẩu</h2>
                <p>Nhập email của bạn để nhận liên kết đặt lại mật khẩu</p>
            </div>

            <div class="auth-form-container">
                <form class="auth-form" id="forgot-form">
                    <div class="form-group">
                        <label for="email">Email</label>
                        <div class="input-group">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="email" class="form-control" placeholder="Nhập email của bạn"
                                required>
                        </div>
                        <div class="form-error" id="email-error">Vui lòng nhập email hợp lệ</div>
                    </div>

                    <div class="form-group">
                        <button type="submit" class="btn btn-primary btn-block">Gửi liên kết đặt lại mật khẩu</button>
                    </div>
                </form>

                <div class="forgot-success">
                    <div class="success-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h3>Email đã được gửi</h3>
                    <p>Chúng tôi đã gửi email chứa liên kết đặt lại mật khẩu đến địa chỉ email của bạn. Vui lòng kiểm
                        tra
                        hộp thư đến.</p>
                    <p class="note">Nếu bạn không nhận được email, vui lòng kiểm tra thư mục spam hoặc nhấn vào nút bên
                        dưới để gửi lại.</p>
                    <button type="button" id="resend-link" class="btn btn-outline">Gửi lại email</button>
                </div>
            </div>

            <div class="auth-links">
                <a href="./auth.html">Quay lại đăng nhập</a>
            </div>
        </div>
    </section>

    <script src="../assets/js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const forgotForm = document.getElementById('forgot-form');
            const forgotSuccess = document.querySelector('.forgot-success');
            const emailError = document.getElementById('email-error');
            const resendLink = document.getElementById('resend-link');

            // Hide error message and success message by default
            if (emailError) {
                emailError.style.display = 'none';
            }

            if (forgotSuccess) {
                forgotSuccess.style.display = 'none';
            }

            if (forgotForm) {
                forgotForm.addEventListener('submit', function (e) {
                    e.preventDefault();

                    const email = document.getElementById('email').value;

                    // Simple email validation
                    if (email && email.includes('@') && email.includes('.')) {
                        // Hide form and show success message
                        forgotForm.style.display = 'none';
                        forgotSuccess.style.display = 'block';
                    } else {
                        // Show error
                        if (emailError) {
                            emailError.style.display = 'block';
                        }

                        // Add shake animation
                        const emailInput = document.getElementById('email');
                        emailInput.classList.add('is-invalid');

                        // Remove shake animation after animation ends
                        setTimeout(() => {
                            emailInput.classList.remove('is-invalid');
                        }, 500);
                    }
                });
            }

            if (resendLink) {
                resendLink.addEventListener('click', function () {
                    // Show resend confirmation
                    const confirmMessage = document.createElement('div');
                    confirmMessage.className = 'resend-confirmation';
                    confirmMessage.innerHTML = '<i class="fas fa-check"></i> Email đã được gửi lại.';

                    document.querySelector('.forgot-success').appendChild(confirmMessage);

                    // Disable button temporarily
                    this.disabled = true;

                    // Reset after 3 seconds
                    setTimeout(() => {
                        confirmMessage.remove();
                        this.disabled = false;
                    }, 3000);
                });
            }
        });
    </script>
</body>

</html>